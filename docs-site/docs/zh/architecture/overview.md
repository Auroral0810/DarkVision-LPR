# 架构总览

DarkVision-LPR 采用分层解耦的**云原生微服务架构**设计。整体系统分为前端展示层、后端业务层、AI推理层和数据存储层。各模块职责清晰，通过标准化的 RESTful API 和 WebSocket 进行通信，具备良好的水平扩展能力。

## 系统架构图

![系统架构图](https://placehold.co/800x400?text=System+Architecture)

> (此处为示意图，实际架构包含更多细节组件)

## 核心分层

### 1. 前端展示层 (Frontend Layer)
负责用户交互与数据可视化。
- **User Portal**: 面向终端用户，提供识别功能、历史记录、个人中心。
- **Admin Portal**: 面向管理员，提供用户管理、系统监控、内容发布。
- **Official Website**: 营销与文档展示。

### 2. 后端业务层 (Backend Business Layer)
基于 **FastAPI** 构建的高性能异步服务，处理核心业务逻辑。
- **用户认证 (Auth)**: JWT 鉴权、RBAC 权限控制。
- **业务逻辑**: 订单处理、套餐管理、额度控制。
- **任务调度**: 协调识别任务，分发至推理服务。

### 3. AI 推理层 (AI Inference Layer)
独立部署的深度学习推理服务，解耦业务与计算密集型任务。
- **YOLOv11m**: 负责车辆检测与车牌定位。
- **LPRNet**: 负责车牌字符识别。
- **Retinex**: 负责低光照图像增强。

### 4. 数据存储层 (Data Layer)
- **MySQL**: 存储用户数据、订单、结构化识别记录。
- **Redis**: 缓存会话、热点数据、消息队列。
- **OSS (Object Storage)**: 下沉存储原始图片与增强后的图片资源。

## 设计原则

- **前后端分离**: 提升开发效率，支持多端适配。
- **服务解耦**: 业务逻辑与 AI用于推理分离，互不阻塞。
- **高可用性**: 关键组件（如 Redis, Database）支持集群部署。
- **安全性**: 全链路数据加密，完善的权限审计。
